import type { Badge } from '../types';

export const availableBadges: Badge[] = [
  {
    id: 'first-quest',
    name: 'ĞŸÑŠÑ€Ğ²Ğ¸ ÑÑ‚ÑŠĞ¿ĞºĞ¸',
    description: 'Ğ—Ğ°Ğ²ÑŠÑ€ÑˆĞ¸ Ğ¿ÑŠÑ€Ğ²Ğ¸Ñ ÑĞ¸ ĞºÑƒĞµÑÑ‚',
    icon: 'ğŸ¯',
    earned: false
  },
  {
    id: 'explorer',
    name: 'Ğ˜Ğ·ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»',
    description: 'Ğ—Ğ°Ğ²ÑŠÑ€ÑˆĞ¸ 5 ĞºÑƒĞµÑÑ‚Ğ°',
    icon: 'ğŸ”',
    earned: false
  },
  {
    id: 'master',
    name: 'ĞœĞ°ÑÑ‚ĞµÑ€',
    description: 'Ğ—Ğ°Ğ²ÑŠÑ€ÑˆĞ¸ 10 ĞºÑƒĞµÑÑ‚Ğ°',
    icon: 'ğŸ‘‘',
    earned: false
  },
  {
    id: 'team-player',
    name: 'ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´ĞµĞ½ Ğ¸Ğ³Ñ€Ğ°Ñ‡',
    description: 'Ğ£Ñ‡Ğ°ÑÑ‚Ğ²Ğ°Ğ¹ Ğ² Team Battle',
    icon: 'âš”ï¸',
    earned: false
  },
  {
    id: 'quick-thinker',
    name: 'Ğ‘ÑŠÑ€Ğ·Ğ¾ Ğ¼Ğ¸ÑĞ»ĞµĞ½Ğµ',
    description: 'Ğ—Ğ°Ğ²ÑŠÑ€ÑˆĞ¸ ĞºÑƒĞµÑÑ‚ Ğ±ĞµĞ· Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸',
    icon: 'âš¡',
    earned: false
  },
  {
    id: 'perfectionist',
    name: 'ĞŸĞµÑ€Ñ„ĞµĞºÑ†Ğ¸Ğ¾Ğ½Ğ¸ÑÑ‚',
    description: 'Ğ—Ğ°Ğ²ÑŠÑ€ÑˆĞ¸ ĞºÑƒĞµÑÑ‚ Ñ Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»Ğ½Ğ¸ Ñ‚Ğ¾Ñ‡ĞºĞ¸',
    icon: 'ğŸ’',
    earned: false
  },
  {
    id: 'night-owl',
    name: 'ĞĞ¾Ñ‰Ğ½Ğ° ÑĞ¾Ğ²Ğ°',
    description: 'Ğ—Ğ°Ğ²ÑŠÑ€ÑˆĞ¸ ĞºÑƒĞµÑÑ‚ ÑĞ»ĞµĞ´ 22:00',
    icon: 'ğŸ¦‰',
    earned: false
  },
  {
    id: 'early-bird',
    name: 'Ğ Ğ°Ğ½Ğ½Ğ° Ğ¿Ñ‚Ğ¸Ñ†Ğ°',
    description: 'Ğ—Ğ°Ğ²ÑŠÑ€ÑˆĞ¸ ĞºÑƒĞµÑÑ‚ Ğ¿Ñ€ĞµĞ´Ğ¸ 8:00',
    icon: 'ğŸ¦',
    earned: false
  },
  {
    id: 'streak-master',
    name: 'ĞœĞ°ÑÑ‚ĞµÑ€ Ğ½Ğ° ÑĞµÑ€Ğ¸Ğ¸Ñ‚Ğµ',
    description: 'Ğ—Ğ°Ğ²ÑŠÑ€ÑˆĞ¸ 3 ĞºÑƒĞµÑÑ‚Ğ° Ğ¿Ğ¾Ğ´Ñ€ĞµĞ´',
    icon: 'ğŸ”¥',
    earned: false
  },
  {
    id: 'social-butterfly',
    name: 'Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»Ğ½Ğ° Ğ¿ĞµĞ¿ĞµÑ€ÑƒĞ´Ğ°',
    description: 'ĞŸÑ€Ğ¸ÑÑŠĞµĞ´Ğ¸Ğ½Ğ¸ ÑĞµ ĞºÑŠĞ¼ 5 Ğ¾Ñ‚Ğ±Ğ¾Ñ€Ğ°',
    icon: 'ğŸ¦‹',
    earned: false
  },
  {
    id: 'treasure-hunter',
    name: 'Ğ›Ğ¾Ğ²ĞµÑ† Ğ½Ğ° ÑÑŠĞºÑ€Ğ¾Ğ²Ğ¸Ñ‰Ğ°',
    description: 'ĞĞ°Ğ¼ĞµÑ€Ğ¸ Ğ²ÑĞ¸Ñ‡ĞºĞ¸ ÑĞºÑ€Ğ¸Ñ‚Ğ¸ Ğ»Ğ¾ĞºĞ°Ñ†Ğ¸Ğ¸',
    icon: 'ğŸ—ºï¸',
    earned: false
  },
  {
    id: 'time-traveler',
    name: 'ĞŸÑŠÑ‚ĞµÑˆĞµÑÑ‚Ğ²ĞµĞ½Ğ¸Ğº Ğ²ÑŠĞ² Ğ²Ñ€ĞµĞ¼ĞµÑ‚Ğ¾',
    description: 'Ğ—Ğ°Ğ²ÑŠÑ€ÑˆĞ¸ Ğ²ÑĞ¸Ñ‡ĞºĞ¸ Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¸ ĞºÑƒĞµÑÑ‚Ğ¾Ğ²Ğµ',
    icon: 'â°',
    earned: false
  }
];

export const checkBadgeEligibility = (
  user: any,
  completedQuests: any[],
  gameStats: any
): Badge[] => {
  const earnedBadges: Badge[] = [];
  
  // ĞŸÑŠÑ€Ğ²Ğ¸ ÑÑ‚ÑŠĞ¿ĞºĞ¸
  if (completedQuests.length >= 1) {
    earnedBadges.push({
      ...availableBadges[0],
      earned: true,
      earnedAt: new Date()
    });
  }
  
  // Ğ˜Ğ·ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»
  if (completedQuests.length >= 5) {
    earnedBadges.push({
      ...availableBadges[1],
      earned: true,
      earnedAt: new Date()
    });
  }
  
  // ĞœĞ°ÑÑ‚ĞµÑ€
  if (completedQuests.length >= 10) {
    earnedBadges.push({
      ...availableBadges[2],
      earned: true,
      earnedAt: new Date()
    });
  }
  
  // Ğ‘ÑŠÑ€Ğ·Ğ¾ Ğ¼Ğ¸ÑĞ»ĞµĞ½Ğµ (Ğ±ĞµĞ· Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸)
  if (gameStats.hintsUsed === 0 && completedQuests.length > 0) {
    earnedBadges.push({
      ...availableBadges[4],
      earned: true,
      earnedAt: new Date()
    });
  }
  
  // ĞŸĞµÑ€Ñ„ĞµĞºÑ†Ğ¸Ğ¾Ğ½Ğ¸ÑÑ‚ (Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»Ğ½Ğ¸ Ñ‚Ğ¾Ñ‡ĞºĞ¸)
  if (gameStats.score >= 1000) {
    earnedBadges.push({
      ...availableBadges[5],
      earned: true,
      earnedAt: new Date()
    });
  }
  
  // ĞœĞ°ÑÑ‚ĞµÑ€ Ğ½Ğ° ÑĞµÑ€Ğ¸Ğ¸Ñ‚Ğµ
  if (user?.stats?.currentStreak >= 3) {
    earnedBadges.push({
      ...availableBadges[8],
      earned: true,
      earnedAt: new Date()
    });
  }
  
  return earnedBadges;
};
